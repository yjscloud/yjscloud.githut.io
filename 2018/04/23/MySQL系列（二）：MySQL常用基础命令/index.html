<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="MySQL系列," />





  <link rel="alternate" href="/atom.xml" title="戏子登台" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="http://oovxjr0mr.bkt.clouddn.com/favicon.png?v=5.1.1" />






<meta name="description" content="启动与关闭MySQL单实例MySQL启动与关闭方法常规启动关闭数据库方式（推荐） 1）启动MySQL命令： [root@mysql-1 ~]# /etc/init.d/mysqld start Starting MySQL SUCCESS! 2）查看MySQL端口： [root@mysql-1 ~]# ss -lnt|grep 3306 LISTEN     0      50">
<meta name="keywords" content="MySQL系列">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL系列（二）：MySQL常用基础命令">
<meta property="og:url" content="http://yjscloud.com/2018/04/23/MySQL系列（二）：MySQL常用基础命令/index.html">
<meta property="og:site_name" content="戏子登台">
<meta property="og:description" content="启动与关闭MySQL单实例MySQL启动与关闭方法常规启动关闭数据库方式（推荐） 1）启动MySQL命令： [root@mysql-1 ~]# /etc/init.d/mysqld start Starting MySQL SUCCESS! 2）查看MySQL端口： [root@mysql-1 ~]# ss -lnt|grep 3306 LISTEN     0      50">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-10.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-11.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-12.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-13.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-15.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-16.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-17.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-18.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-19.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-20.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-21.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-22.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-23.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-24.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-25.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-26.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-27.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-28.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-29.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-30.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-31.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-32.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-33.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-34.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-35.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-36.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-37.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-38-1.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-38.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-39.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-40.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-41.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-42.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-43.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-44.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-45.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-46.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-47.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-48.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-49.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-50.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-51.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-52.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-53.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-54.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-55.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-56.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-57.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-58.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-59.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-60.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-61.png">
<meta property="og:image" content="http://p924w4b7r.bkt.clouddn.com/m-62.png">
<meta property="og:updated_time" content="2018-05-21T06:02:24.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MySQL系列（二）：MySQL常用基础命令">
<meta name="twitter:description" content="启动与关闭MySQL单实例MySQL启动与关闭方法常规启动关闭数据库方式（推荐） 1）启动MySQL命令： [root@mysql-1 ~]# /etc/init.d/mysqld start Starting MySQL SUCCESS! 2）查看MySQL端口： [root@mysql-1 ~]# ss -lnt|grep 3306 LISTEN     0      50">
<meta name="twitter:image" content="http://p924w4b7r.bkt.clouddn.com/m-10.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yjscloud.com/2018/04/23/MySQL系列（二）：MySQL常用基础命令/"/>





  <title>MySQL系列（二）：MySQL常用基础命令 | 戏子登台</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  











  <div style="display: none;">
    <script src="//s95.cnzz.com/z_stat.php?id=true&web_id=true" language="JavaScript"></script>
  </div>





  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">戏子登台</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">唱一曲词，戏子登台，人生若只初相见，卖弄风骚为谁演。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav" id="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'xFvELz3zTWLevZ-Gjxdd','2.0.0');
</script>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yjscloud.com/2018/04/23/MySQL系列（二）：MySQL常用基础命令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pan">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oovxjr0mr.bkt.clouddn.com/WechatIMG8.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="戏子登台">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                MySQL系列（二）：MySQL常用基础命令
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-23T12:02:52+08:00">
                2018-04-23
              </time>
            

            

            
          </span>
          
            <span id="busuanzi_container_page_pv">&nbsp;&nbsp;|&nbsp;&nbsp;阅读量 <span id="busuanzi_value_page_pv"></span> 次</span>
          

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/数据库学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">数据库学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a class="cloud-tie-join-count" href="/2018/04/23/MySQL系列（二）：MySQL常用基础命令/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count join-count" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  8,923
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长</span>
                
                <span title="阅读时长">
                  39
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="启动与关闭MySQL"><a href="#启动与关闭MySQL" class="headerlink" title="启动与关闭MySQL"></a>启动与关闭MySQL</h1><h2 id="单实例MySQL启动与关闭方法"><a href="#单实例MySQL启动与关闭方法" class="headerlink" title="单实例MySQL启动与关闭方法"></a>单实例MySQL启动与关闭方法</h2><p>常规启动关闭数据库方式（推荐）</p>
<p>1）启动MySQL命令：</p>
<pre><code>[root@mysql-1 ~]# /etc/init.d/mysqld start
Starting MySQL SUCCESS!
</code></pre><p>2）查看MySQL端口：</p>
<pre><code>[root@mysql-1 ~]# ss -lnt|grep 3306
LISTEN     0      50           *:3306                     *:*
</code></pre><p>3）查看MySQL进程：</p>
<p> <img src="http://p924w4b7r.bkt.clouddn.com/m-10.png" alt="m-10"></p>
<p>4）MySQL启动基本原理说明：<br>/etc/init.d/mysqld是一个shell启动脚本，启动后终会调用mysqld_safe脚本，最后调用mysqld服务启动mysql，如下，/etc/init.d/mysqld脚本中调用mysql_safe的程序</p>
<pre><code>$bindir/mysql_safr --datadir=&quot;$datadir&quot;  --pid-file=&quot;$mysql_pid_file_path&quot; $ other_args &gt;/dev/null 2&gt;&amp;1 &amp;
</code></pre><h2 id="初始化MySQL时输出提示的启动方法"><a href="#初始化MySQL时输出提示的启动方法" class="headerlink" title="初始化MySQL时输出提示的启动方法"></a>初始化MySQL时输出提示的启动方法</h2><pre><code>mysql_safe --user=mysql &amp;
</code></pre><p>提示：</p>
<p>（1）当忘记mysql的root密码是，会经常使用mysqld_safe –user=mysql &amp; 带参数启动。</p>
<p>（2）我们自己开发脚本启动数据库是可能会用到这个启动方法。</p>
<p>（3）/etc/init.d/mysqld和mysqld_safe –user=mysql &amp;的启动实质是一样的。</p>
<h2 id="常规方法关闭数据库"><a href="#常规方法关闭数据库" class="headerlink" title="常规方法关闭数据库"></a>常规方法关闭数据库</h2><p>（1）关闭MySQL命令</p>
<pre><code>[root@mysql-1 ~]# /etc/init.d/mysqld stop
Shutting down MySQL. SUCCESS!
[root@mysql-1 ~]# ss -lnt|grep 3306
</code></pre><p>提示：使用编译及二进制安装的mysql，mysql的启动脚本由mysql-xx/support-files/mysql.server 复制而来。</p>
<p>（2）强制关闭数据库方法：</p>
<pre><code>killall mysqld
pkill mysqld
killall -9 mysqld
mysql: no process killed
kill pid
</code></pre><p>提示：</p>
<p>用killall关闭，要直到出现mysqld: no process killed表示完成关闭操作。强制关闭命令不建议在生产环境使用，尽量不要野蛮粗鲁杀死数据库，生产高并发环境可能会引起数据丢失。</p>
<p>（3）优雅关闭数据库方法</p>
<p>第一种mysqladmin方法：</p>
<pre><code>mysqladmin -uroot -pyjscloud shutdown
</code></pre><p>第二种自带的脚本</p>
<pre><code>/etc/init.d/mysqld stop
</code></pre><p>第三种kill信号的方法</p>
<pre><code>kill -USE2 &apos;cat path/pid&apos;
</code></pre><p>提示：推荐前两种方法，自己写脚本启动停止就用第一个</p>
<h1 id="登陆MySQL方法"><a href="#登陆MySQL方法" class="headerlink" title="登陆MySQL方法"></a>登陆MySQL方法</h1><h2 id="单实例MySQL登陆的方法"><a href="#单实例MySQL登陆的方法" class="headerlink" title="单实例MySQL登陆的方法"></a>单实例MySQL登陆的方法</h2><pre><code>mysql     #刚刚安装mysql无密码情况的登陆方式
mysql -uroot    #刚刚安装mysql无密码情况的登陆方式
mysql -uroot -p    #这是标准的dba命令行登陆命令
mysql -uroot -pyjscloud    #非脚本里一般不这样用。密码明文会泄露密码，可以掩饰history功能解决
</code></pre><p>强制linux不记录敏感历史命令</p>
<pre><code>HISTCONTROL=ignorespace
history -c
history -d 5
</code></pre><p>登陆后默认提示符是：mysql&gt;，这个提示符也是可以改的，就像linux命令行提示符也可以改一样。<br>更改MySQL数据库登陆提示（了解即可）方法如下：</p>
<pre><code>mysql&gt; prompt \u%yjscloud \r:\m:\s-&gt;
PROMPT set to &apos;\u%yjscloud \r:\m:\s-&gt;&apos;
root%yjscloud 08:04:07-&gt;
</code></pre><p>配置文件修改登陆提示提示符：</p>
<p>在my.cnf配置文件中[mysql]模块下添加如下内容（注意，不是[mysqld]），保存后，无需重启mysql，退出当前session，重新登录即可如果my.cnf配置文件中加，可用\，避免转义带来的问题。</p>
<pre><code>[mysql]
prompt=\\u%yjscloud \\r:\\m:\\s-&gt;
</code></pre><h2 id="善用MySQL的帮助命令help"><a href="#善用MySQL的帮助命令help" class="headerlink" title="善用MySQL的帮助命令help"></a>善用MySQL的帮助命令help</h2><p>linux的帮助man，help</p>
<p>mysql中的help命令和linux命令行的man是类似的，和linux下查看内置命令的help是同名的。要想查看mysql中的命令使用语法，就需要用help，help后面接相关命令及命令组合即可，例如：help create ，默认情况mysql中的命令执行不区分大小写，这点和linux命令行严格区分大小写是有区别的。</p>
<p>排错的几点建议：</p>
<p>1、一般解决故障问题，一定要先看故障日志，根据报错输出或者日志文件自行排查下，别忘了这是上帝给你的难得的提示的机会，一旦错过提示机会就让给了别人！</p>
<p>2、实在解决不了，然后再搜索（g&gt;b）好些，搜索关键字要精练，且尽量唯一。</p>
<p>3、对于知识点的学习、用法，查看软件的帮助或官方手册最好，直接的一手资料。</p>
<p>4、实在看不懂英文的，可以先搜索中文资料，然后边对照边学习英文软件的帮助或官方手册，习惯了就会看英文了。网上大部分中文资料都是不全甚至是有问题的，没有变通能力的菜鸟很难搞定的。培养自身的学习习惯很重要，掌握了学习方法，思维方式，锻炼了学习能力，才会举一反三，真正的成长起来。</p>
<h1 id="退出MySQL数据库方法"><a href="#退出MySQL数据库方法" class="headerlink" title="退出MySQL数据库方法"></a>退出MySQL数据库方法</h1><pre><code>mysql&gt;quit
</code></pre><p>或</p>
<pre><code>eixt 
</code></pre><h1 id="设置及修改mysql-root用户密码"><a href="#设置及修改mysql-root用户密码" class="headerlink" title="设置及修改mysql root用户密码"></a>设置及修改mysql root用户密码</h1><h2 id="MySQL数据库用户安全策略介绍"><a href="#MySQL数据库用户安全策略介绍" class="headerlink" title="MySQL数据库用户安全策略介绍"></a>MySQL数据库用户安全策略介绍</h2><p>安装mysql数据库后，默认的管理员root密码为空，这很不安全。因此需要设置一个密码。其实在安装MySQL单实例后，我们已经做了一些安全措施；例如：</p>
<p>a、为root设置密码</p>
<p>b、删除无用的mysql库内的用户账户</p>
<p>c、删除默认存在的test数据库</p>
<p>除了上面的方法，针对MySQL数据库的用户处理，我们还是有严格的做法如下。</p>
<p>更安全的措施例如删除root,添加新的管理员用户</p>
<p>1）删除所有mysql中的用户，包括root超级用户。</p>
<pre><code>mysql&gt; delete from mysql.user;
Query OK, 7 rows affected (0.01 sec)
</code></pre><p>提示：root可以保留，然后修改为其他用户也可以</p>
<p>2）增加system并提升为超级管理员，即和root等价的用户，只是名字不同。</p>
<pre><code>mysql&gt; grant all privileges on *.* to system@&apos;localhost&apos; identified by&apos;yjscloud&apos; with grant option;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; flush privileges;
Query OK, 0 rows affected (0.00 sec)
</code></pre><h2 id="为管理员root用户设置密码方法"><a href="#为管理员root用户设置密码方法" class="headerlink" title="为管理员root用户设置密码方法"></a>为管理员root用户设置密码方法</h2><pre><code>mysqladmin -uroot password &apos;yjscloud123&apos;   #没有密码的用户设置密码命令，这个是linux命令行不是mysql命令行
</code></pre><h2 id="修改管理员root密码"><a href="#修改管理员root密码" class="headerlink" title="修改管理员root密码"></a>修改管理员root密码</h2><p>1）方法一：命令行外修改</p>
<pre><code>mysqladmin -uroot -p&apos;yjscloud123&apos; password &apos;yjscloud456&apos;
</code></pre><p>2)方法二：sql语句修改</p>
<pre><code>mysql&gt; update mysql.user set password=password(&quot;yjscloud789&quot;) where user=&apos;system&apos;;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&gt; flush privileges;
Query OK, 0 rows affected (0.01 sec)
</code></pre><p>提示：此方法合适密码丢失后通过–skip-grant-tables参数启动数据库后修改密码。</p>
<pre><code>mysql&gt; select user,host from mysql.user;
+----------+----------------+
| user     | host           |
+----------+----------------+
| yjscloud | 192.168.0.0/24 |
| root     | localhost      |
| system   | localhost      |
+----------+----------------+
3 rows in set (0.00 sec)

mysql&gt; update mysql.user set password=password(&quot;yjscloud123&quot;) where user=&apos;root&apos; and host=&quot;localhost&quot;;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&gt; flush privileges;
Query OK, 0 rows affected (0.00 sec)
</code></pre><p>提示：</p>
<p>1、必须指定where条件</p>
<p>2、必须使用password（）函数来加密更改密码</p>
<h1 id="找回丢失的mysql-root用户密码"><a href="#找回丢失的mysql-root用户密码" class="headerlink" title="找回丢失的mysql root用户密码"></a>找回丢失的mysql root用户密码</h1><h2 id="启动修改丢失的MySQL实例root密码方法"><a href="#启动修改丢失的MySQL实例root密码方法" class="headerlink" title="启动修改丢失的MySQL实例root密码方法"></a>启动修改丢失的MySQL实例root密码方法</h2><p>1）首先停止mysql</p>
<pre><code>[root@mysql-1 ~]# /etc/init.d/mysqld stop
Shutting down MySQL. SUCCESS!
</code></pre><p>2）使用–skip-grant-tables启动mysql，忽略授权登陆验证</p>
<pre><code>mysqld_safe --skip-grant-tables --user=mysql &amp;
mysql -uroot -p  #登陆时密码为空
</code></pre><p>3）无需密码即可登陆MySQL</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-11.png" alt="m-11"></p>
<p> 4）修改root密码为新密码</p>
<pre><code>mysql&gt; update mysql.user set password=password(&apos;yjscloud000&apos;) where user=&apos;root&apos; and host=&apos;localhost&apos;;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0
#需要指定修改的用户，不知道用户是无法修改的，因为数据库中可能存在多个用户
mysql&gt; flush privileges;
Query OK, 0 rows affected (0.01 sec)

mysql&gt; quit
Bye
</code></pre><p>5）重启服务再登陆</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-12.png" alt="m-12"></p>
<h1 id="SQL结构化查询语言"><a href="#SQL结构化查询语言" class="headerlink" title="SQL结构化查询语言"></a>SQL结构化查询语言</h1><h2 id="什么是SQL"><a href="#什么是SQL" class="headerlink" title="什么是SQL"></a>什么是SQL</h2><p>SQL，英文全称Structured Query Langyuage，中文意思是结构化查询语言，它是一种对关系数据库中的数据进行定义和操作的语言方法，是大多数关系数据库管理系统所支持的工业标准。结构化查询语言SQL是一种数据库查询和程序设计语言，用于存取数据以及查询、更新和管理关系数据库系统；同时也是数据库脚本文件的扩展名。结构化查询语言是高级的非过程化编程语言，允许用户在高层数据存放方式，所以，具有完全不同于底层结构的，不同数据库系统可以使用相同的结构化查询语言作为数据输入与管理的接口。结构化查询语言语句可以嵌套，这使得它具有极大的灵活性和强大的功能。不同的数据库系统的SQL语言会有一些差别。</p>
<h2 id="SQL结构化查询语言包含6个部分"><a href="#SQL结构化查询语言包含6个部分" class="headerlink" title="SQL结构化查询语言包含6个部分"></a>SQL结构化查询语言包含6个部分</h2><p>1）数据查询语言(DQL):</p>
<p>DQL全称Data Query Language,其语句，也称为“数据检索语句”，用以从表中获得数据，确定数据怎么在应用程序给出。保留字SELECT是DQL（也是所有SQL）用得多的动词，其他DQL常用的保留字有WHERE,ORDER BY,GROUP BY和HAVING。这些DQL保留字常与其他类型的SQL语句一起用。具体语句例如：</p>
<pre><code>mysql&gt; select user,host from mysql.user order by user;
+----------+----------------+
| user     | host           |
+----------+----------------+
| root     | localhost      |
| system   | localhost      |
| yjscloud | 192.168.0.0/24 |
+----------+----------------+
3 rows in set (0.00 sec)
</code></pre><p>2）数据操作语言（DML）</p>
<p>DML全称Data Manipulation Language,其语句包括动词INSERT,UPDATE和DELETE。它们分别用于添加，修改和删除表中的行（数据）。也称为查询语言。具体语句例如：</p>
<pre><code>mysql&gt; delete from mysql.user where user=&apos;yjscloud&apos;;
Query OK, 1 row affected (0.00 sec)
</code></pre><p>3）事务处理语言（TPL）</p>
<p>它的语句能确保被DML语句影响的表所有行及时得以更新。TPL语句BEGIN,TRANSACTION,COMMIT和ROLLBACK。</p>
<p>4）数据控制语言（DCL）</p>
<p>DCL全称（Data Control Language），它的语句通过GRANT或REVOKE获得许可，确定单个用户和用户组对数据库对象的访问。某些RDBMS可用GRANT或REVOKE控制对表单个列表的访问。</p>
<p>5）数据定义语言（DDL）<br>全称，（Data Definition Language），其语句包括动词CREATE和DROP。在数据库中创建新表或删除表（CREATE TABLE或DROP TABLE）;为表加入索引等。DDL包括许多与数据库目录中获得数据有关的保留字。它也是动作查询的一部分。</p>
<p>6）指针控制语言（CCL）<br>全称CURSOR Control Language，它的语句，像DECLARE CURSOR，FETCH INTO和UPDATE WHERE CURRENT用于对一个或多个表单独的操作。</p>
<p>小结：SQL语句最常见的分类一般就是3类：</p>
<p>DDL——数据定义语言（CREATE,ALTER,DROP） &lt;—-运维</p>
<p>DML——数据操作语言（SELECT,INSERT,DELETE,UPDATE）&lt;—-开发</p>
<p>DCL——数据控制语言（GRANT,REVOKE,COMMIT,ROLLBACK）&lt;—-运维</p>
<h1 id="MySQL数据常见管理应用"><a href="#MySQL数据常见管理应用" class="headerlink" title="MySQL数据常见管理应用"></a>MySQL数据常见管理应用</h1><h2 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h2><p>命令语法：create database &lt;数据库名&gt;     #注意库名不能数字开头</p>
<p>在MySQL默认字符集情况下建立数据库测试如下：</p>
<p>a、建立名为yjscloud和yjscloud1的数据库（我在安装数据库时指定了utf-8为默认的字符集）</p>
<pre><code>mysql&gt; create database yjscloud;
Query OK, 1 row affected (0.00 sec)

mysql&gt; create database yjscloud1;
Query OK, 1 row affected (0.00 sec)

mysql&gt; show databases like &apos;yjscloud%&apos;;
+----------------------+
| Database (yjscloud%) |
+----------------------+
| yjscloud             |
| yjscloud1            |
+----------------------+
2 rows in set (0.00 sec)

mysql&gt; show create database yjscloud;
+----------    +-------------------------------------------------------------------+
| Database | Create Database                                                   |
+----------+-------------------------------------------------------------------+
| yjscloud | CREATE DATABASE `yjscloud` /*!40100 DEFAULT CHARACTER SET utf8 */ |
+----------+-------------------------------------------------------------------+
1 row in set (0.00 sec)
</code></pre><p>b、建立一个名为yjscloud_gbk的GBK字符集数据库</p>
<pre><code>mysql&gt; create database yjscloud_gbk default character set gbk collate gbk_chinese_ci;
Query OK, 1 row affected (0.00 sec)

mysql&gt; show create database yjscloud_gbk;
+--------------+----------------------------------------------------------------------+
| Database     | Create Database                                                      |
+--------------+----------------------------------------------------------------------+
| yjscloud_gbk | CREATE DATABASE `yjscloud_gbk` /*!40100 DEFAULT CHARACTER SET gbk */ |
+--------------+----------------------------------------------------------------------+
1 row in set (0.00 sec)
</code></pre><p>提示：字符集的不一致时数据库中文内容乱码的罪魁祸首，在编译安装的时候指定了字符集则以后创建对应的数据库就不需要指定字符集了。</p>
<pre><code>cmake . -DCMAKE_INSTALL_PREFIX=/application/mysql-5.5.32 \
-DMYSQL_DATADIR=/application/mysql-5.5.32/data \
-DMYSQL_UNIX_ADDR=/application/mysql-5.5.32/tmp/mysql.sock \
-DDEFAULT_CHARSET=utf8 \
-DDEFAULT_COLLATION=utf8_general_ci \
</code></pre><p>如果在编译的时候没有指定字符集或者指定了不同的字符集，如何解决？我们只需要指定字符集创建数据库即可</p>
<pre><code>create database yjscloud_gbk default character set gbk collate gbk_chinese_ci;    #创建gbk字符集数据库
create database yjscloud_utf8 default character set utf8 collate utf8_chinese_ci;   #创建utf8字符集数据库
</code></pre><h2 id="显示数据库"><a href="#显示数据库" class="headerlink" title="显示数据库"></a>显示数据库</h2><p>命令：show databases;</p>
<pre><code>mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| yjscloud           |
| yjscloud1          |
| yjscloud_gbk       |
+--------------------+
6 rows in set (0.00 sec)

mysql&gt; show databases like &apos;%yjscloud%&apos;;   #   %为通配符，匹配所有内容。
+----------------------+
| Database (yjscloud%) |
+----------------------+
| yjscloud             |
| yjscloud1            |
| yjscloud_gbk         |
+----------------------+
3 rows in set (0.00 sec)
</code></pre><p> <img src="http://p924w4b7r.bkt.clouddn.com/m-13.png" alt="m-13"></p>
<h2 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h2><p>命令：drop database &lt;数据库名&gt;</p>
<p>例如删除yjscloud的数据库</p>
<pre><code>mysql&gt; drop database yjscloud;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| yjscloud1          |
| yjscloud_gbk       |
+--------------------+
5 rows in set (0.00 sec)
</code></pre><h2 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h2><p>命令：use &lt;数据库名&gt;   #use相当与linux命令行下的cd命令，use用于切换数据库</p>
<pre><code>mysql&gt; use yjscloud1
Database changed
</code></pre><h2 id="查看当前数据库包含的表信息"><a href="#查看当前数据库包含的表信息" class="headerlink" title="查看当前数据库包含的表信息"></a>查看当前数据库包含的表信息</h2><p>切到数据库里面去查看：</p>
<pre><code>mysql&gt; show tables;
Empty set (0.00 sec)    #空表，因为是新库，还没有建表

mysql&gt; show tables like &apos;user&apos;;
Empty set (0.00 sec)

mysql&gt; show tables from yjscloud_gbk;   #查看指定库中的表。
Empty set (0.00 sec)

mysql&gt; show tables in yjscloud_gbk;
Empty set (0.01 sec)
</code></pre><h1 id="删除MySQL系统多余账号"><a href="#删除MySQL系统多余账号" class="headerlink" title="删除MySQL系统多余账号"></a>删除MySQL系统多余账号</h1><p>语法：drop user “user”@”主机域”   #注意引号，可以是单或双引号，但是不能不加。</p>
<pre><code>mysql&gt; select user,host from mysql.user;
+----------+-----------+
| user     | host      |
+----------+-----------+
| cloud    | localhost |
| root     | localhost |
| system   | localhost |
| yjscloud | localhost |
+----------+-----------+
4 rows in set (0.00 sec)

mysql&gt; drop user &apos;cloud&apos;@&apos;localhost&apos;;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; select user,host from mysql.user;
+----------+-----------+
| user     | host      |
+----------+-----------+
| root     | localhost |
| system   | localhost |
| yjscloud | localhost |
+----------+-----------+
3 rows in set (0.00 sec)
</code></pre><p>注意：删除后的结果如上面返回的结果如果drop删除不了（一般是特殊字符或大写），可以用下面方式删除（以root用户，yjscloud主机为例）</p>
<pre><code>delete from mysql.user where user=&apos;root&apos; and host=&apos;yjscloud&apos;;
flush privileges;
</code></pre><h1 id="创建MySQL用户及赋予用户权限"><a href="#创建MySQL用户及赋予用户权限" class="headerlink" title="创建MySQL用户及赋予用户权限"></a>创建MySQL用户及赋予用户权限</h1><h2 id="通过help查看grant命令帮助"><a href="#通过help查看grant命令帮助" class="headerlink" title="通过help查看grant命令帮助"></a>通过help查看grant命令帮助</h2><pre><code>...省略部分...
CREATE USER &apos;jeffrey&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;mypass&apos;;
GRANT ALL ON db1.* TO &apos;jeffrey&apos;@&apos;localhost&apos;;
GRANT SELECT ON db2.invoice TO &apos;jeffrey&apos;@&apos;localhost&apos;;
GRANT USAGE ON *.* TO &apos;jeffrey&apos;@&apos;localhost&apos; WITH MAX_QUERIES_PER_HOUR 90;
...省略部分...
</code></pre><p>通过查看grant的命令帮助，可以很容易的找到创建用户并授权的例子！</p>
<p>1、使用grant命令在创建用户的同时进行权限授权：</p>
<pre><code>GRANT ALL ON db1.* TO &apos;jeffrey&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;mypass&apos;;
</code></pre><p>2、上述grant命令帮助里还提供了一个先用create命令创建用户，然后再用grant授权的方法，即创建用户和授权权限分开进行，</p>
<p>例：</p>
<pre><code>CREATE USER &apos;jeffrey&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;mypass&apos;;
GRANT ALL ON db1.* TO &apos;jeffrey&apos;@&apos;localhost&apos;;
</code></pre><p>以上两条命令相当于：</p>
<pre><code>GRANT ALL ON db1.* TO &apos;jeffrey&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;mypass&apos;;
</code></pre><h2 id="通过grant命令创建用户并授权"><a href="#通过grant命令创建用户并授权" class="headerlink" title="通过grant命令创建用户并授权"></a>通过grant命令创建用户并授权</h2><p>grant命令简单语法如下：</p>
<pre><code>grant all privileges on dbname.* to username@localhost identified by &apos;passwd&apos;;
</code></pre><p>列表说明： </p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-15.png" alt="m-15"> </p>
<p>说明：上述命令是授权localhost主机上通过用户username管理dbname数据库的所有权限，密码为passwd。其中username，dbname，passwd可根据业务的情况修改。</p>
<h2 id="create和grant配合法"><a href="#create和grant配合法" class="headerlink" title="create和grant配合法"></a>create和grant配合法</h2><p>1）首先创建用户username及密码passwd，授权主机localhost</p>
<pre><code>create user &apos;username&apos;@&apos;localhost&apos; identified by &apos;passwd&apos;;
</code></pre><p>2）然后授权localhost主机上通过username管理dbname数据库的所有权限，无需密码。</p>
<pre><code>grant all on dbname.* to &apos;username&apos;@&apos;localhost&apos;;
</code></pre><p>3）实战操作：创建mycloud用户。对yjscloud库具备所有权限，允许从localhost主机登陆管理数据库，密码是mycloud123</p>
<p>1、查看当前数据库用户情况，然后执行对应命令创建用户：</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-16.png" alt="m-16">  </p>
<p>查看用户mycloud的具体权限</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-17.png" alt="m-17">  </p>
<p>开始对mycloud用户授权，并查看授权的权限细明</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-18.png" alt="m-18">  </p>
<p>提示：可以看到默认权限是useage，即连接权限，后面又增加了all权限。 </p>
<h2 id="授权局域网内主机远程连接数据库"><a href="#授权局域网内主机远程连接数据库" class="headerlink" title="授权局域网内主机远程连接数据库"></a>授权局域网内主机远程连接数据库</h2><p>根据grant命令语法，我们知道yjscloud@’localhost’位置为授权访问数据库的主机，localhost可以用域名，ip地址或ip段来替代，因此，要授权局域网内主机可以通过如下方法实现：</p>
<p>1）百分号匹配法</p>
<pre><code>mysql&gt; grant all on *.* to yjscloud@&apos;192.168.0.%&apos; identified by &apos;yjscloud&apos;;
Query OK, 0 rows affected (0.00 sec)
</code></pre><p>2）子网掩码配置法</p>
<pre><code>mysql&gt; grant all on *.* to yjscloud@&apos;192.168.0.0/255.255.255.0&apos; identified by &apos;yjscloud&apos;;
Query OK, 0 rows affected (0.00 sec)
</code></pre><p>最后要刷新权限</p>
<pre><code>mysql&gt; flush privileges;
Query OK, 0 rows affected (0.00 sec)
</code></pre><p>3）通过mysql客服端连接异地数据库服务：</p>
<p>1、本地mysql -uroot -pyjscloud 连接数据库相当与mysql -uroot -pyjscloud -h localhost</p>
<p>2、要远程连接192.168.0.30的数据库，命令为mysql -uyjscloud -pyjscloud -h 192.168.0.30，如果要能连接成功，还需要在192.168.0.30的数据库服务器上通过如下命令授权：</p>
<pre><code>grant all on *.* to yjscloud@&apos;192.168.0.%&apos; identified by &apos;yjscloud&apos;;
</code></pre><p>提示：上述命令意思是授权192.168.0.%，匹配这个字符串ip地址的的所有主机连接数据库，百分号%匹配所有192.168.0.0/24内的主机</p>
<h2 id="MySQL用户可以授权的权限有哪些"><a href="#MySQL用户可以授权的权限有哪些" class="headerlink" title="MySQL用户可以授权的权限有哪些"></a>MySQL用户可以授权的权限有哪些</h2><p>1）先看看前面授权通过的mycloud的权限</p>
<pre><code>mysql&gt; show grants for &apos;mycloud&apos;@&apos;localhost&apos;;
+----------------------------------------------------------------------------------------------------------------+
| Grants for mycloud@localhost                                                                                   |
+----------------------------------------------------------------------------------------------------------------+
| GRANT USAGE ON *.* TO &apos;mycloud&apos;@&apos;localhost&apos; IDENTIFIED BY PASSWORD &apos;*5135EBEA729E32C95756AE6F914F901D66D2641D&apos; |
| GRANT ALL PRIVILEGES ON `yjscloud`.* TO &apos;mycloud&apos;@&apos;localhost&apos;                                                  |
+----------------------------------------------------------------------------------------------------------------+
2 rows in set (0.00 sec)


#取消mycloud的选择权限
mysql&gt; REVOKE SELECT ON yjscloud.* from &apos;mycloud&apos;@&apos;localhost&apos;;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; show grants for &apos;mycloud&apos;@&apos;localhost&apos;;
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Grants for mycloud@localhost                                                                                                                                                                                                        |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GRANT USAGE ON *.* TO &apos;mycloud&apos;@&apos;localhost&apos; IDENTIFIED BY PASSWORD &apos;*5135EBEA729E32C95756AE6F914F901D66D2641D&apos;                                                                                                                      |
| GRANT INSERT, UPDATE, DELETE, CREATE, DROP, REFERENCES, INDEX, ALTER, CREATE TEMPORARY TABLES, LOCK TABLES, EXECUTE, CREATE VIEW, SHOW VIEW, CREATE ROUTINE, ALTER ROUTINE, EVENT, TRIGGER ON `yjscloud`.* TO &apos;mycloud&apos;@&apos;localhost&apos; |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
2 rows in set (0.00 sec)
</code></pre><p>提示：此时我们再查看oldboy用户权限，ALL PRIVILEGES权限已经被细分了，但是没有select权限了。在授权时，可以授权用户最小的满足业务需求的业务，而不是一味的授权ALL PRIVILEGES </p>
<h2 id="企业生产环境如何授权用户权限"><a href="#企业生产环境如何授权用户权限" class="headerlink" title="企业生产环境如何授权用户权限"></a>企业生产环境如何授权用户权限</h2><p>1）博客、CMS等产品的数据库授权</p>
<p>对于web连接用户授权尽量采用最小化原则，很多开源软件都是web界面安装，因此，在安装期间除了select，insert，update，delete4个权限外，还需要create，drop等比较危险的权限。</p>
<pre><code>mysql&gt; grant select,insert,update,delete,create,drop on blog.* to &apos;blog&apos;@&apos;192.168.0.%&apos; identified by &apos;yjscloud&apos;;
Query OK, 0 rows affected (0.00 sec)
</code></pre><p>常规情况下授权select，insert，update，delete4个权限即可，有的开源软件，例如discuz bbs，还需要create，drop等比较危险的权限。</p>
<p>2）生成数据库表后，要收回create，drop授权</p>
<pre><code>mysql&gt; show grants for &apos;blog&apos;@&apos;192.168.0.%&apos;;
+---------------------------------------------------------------------------------------------------------------+
| Grants for blog@192.168.0.%                                                                                   |
+---------------------------------------------------------------------------------------------------------------+
| GRANT USAGE ON *.* TO &apos;blog&apos;@&apos;192.168.0.%&apos; IDENTIFIED BY PASSWORD &apos;*7C9FFD5B56F6DEE1126BC972C97B1DFEC8E4E089&apos; |
| GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP ON `blog`.* TO &apos;blog&apos;@&apos;192.168.0.%&apos;                        |
+---------------------------------------------------------------------------------------------------------------+
2 rows in set (0.00 sec)

#收回create，drop授权
mysql&gt; revoke create,drop on blog.* from &apos;blog&apos;@&apos;192.168.0.%&apos;;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; show grants for &apos;blog&apos;@&apos;192.168.0.%&apos;;
+---------------------------------------------------------------------------------------------------------------+
| Grants for blog@192.168.0.%                                                                                   |
+---------------------------------------------------------------------------------------------------------------+
| GRANT USAGE ON *.* TO &apos;blog&apos;@&apos;192.168.0.%&apos; IDENTIFIED BY PASSWORD &apos;*7C9FFD5B56F6DEE1126BC972C97B1DFEC8E4E089&apos; |
| GRANT SELECT, INSERT, UPDATE, DELETE ON `blog`.* TO &apos;blog&apos;@&apos;192.168.0.%&apos;                                      |
+---------------------------------------------------------------------------------------------------------------+
2 rows in set (0.00 sec)
</code></pre><p>3）生产环境针对主库（写为主读为辅）用户的授权：</p>
<p>普通的环境：</p>
<p>本机：lnmp，lamp环境数据库授权</p>
<pre><code>grant all privileges on blog.* to &apos;blog&apos;@&apos;localhost&apos; identified by &apos;yjscloud&apos;;
</code></pre><p>应用服务器和数据库服务器不在一个主机上的授权：</p>
<pre><code>grant all privileges on blog.* to &apos;blog&apos;@&apos;192.168.0.%&apos; identified by &apos;yjscloud&apos;;
</code></pre><p>严格的授权：重视安全，忽略方便</p>
<pre><code>grant select,insert,update,delete on blog.* to &apos;blog&apos;@&apos;192.168.0.%&apos; identified by &apos;yjscloud&apos;;
</code></pre><p>4）生产环境从库（只读）用户的授权：</p>
<pre><code>grant select on blog.* to &apos;blog&apos;@&apos;192.168.0.%&apos; identified by &apos;yjscloud&apos;;
</code></pre><p>说明：这里表示给192.168.0.0/24的用户blog管理blog数据的所有表（*表示所有表）只读权限（select），密码为yjscloud</p>
<p>5）生产场景授权的具体命令为：</p>
<pre><code>grant select,insert,update,delete on blog.* to &apos;blog&apos;@&apos;192.168.0.%&apos; identified by &apos;yjscloud&apos;;
</code></pre><p>从库授权用户的命令：</p>
<pre><code>grant select on blog.* to &apos;blog&apos;@&apos;192.168.0.%&apos; identified by &apos;yjscloud&apos;;
</code></pre><p>当然从库除了做select的授权外，还可以加入read-only等只读从参数，严格控制web用户写从库。</p>
<p>6）这里还有一个比较重要的问题：</p>
<p>就是主从库的mysql库和表示同步的，无法针对同一个用户授权不同的权限，因为主库授权后会自动同步到从库上，导致从库的授权只读失败。</p>
<p>解决方法：</p>
<p>a、取消mysql库的同步</p>
<p>b、授权主库权限后，从库执行收回增删改权限。</p>
<p>c、不在授权上控制增删改，而是用read-only参数，控制普通用户更新从库，注意，read-only参数对超级用户无效。</p>
<h1 id="查看mysql数据库的用户及授权"><a href="#查看mysql数据库的用户及授权" class="headerlink" title="查看mysql数据库的用户及授权"></a>查看mysql数据库的用户及授权</h1><p>1）查看mysql数据库的用户及授权</p>
<pre><code>mysql&gt; select user,host from mysql.user;
+----------+---------------------------+
| user     | host                      |
+----------+---------------------------+
| blog     | 192.168.0.%               |
| yjscloud | 192.168.0.%               |
| yjscloud | 192.168.0.0/255.255.255.0 |
| mycloud  | localhost                 |
| root     | localhost                 |
| system   | localhost                 |
| yjscloud | localhost                 |
+----------+---------------------------+
7 rows in set (0.00 sec)
</code></pre><p>注意：</p>
<p>1、由于安全原因，上面的用户是经过处理过的</p>
<p>2、mysql的用户由“用户名@主机名”构成，所以在用户列表有相同的用户，不要奇怪</p>
<p>2）查看授权用户yjscloud的具体授权权限</p>
<pre><code>mysql&gt; show grants for &apos;yjscloud&apos;@&apos;localhost&apos;;
+--------------------------------------------------------------------------------------------------------------------------------------------+
| Grants for yjscloud@localhost                                                                                                              |
+--------------------------------------------------------------------------------------------------------------------------------------------+
| GRANT ALL PRIVILEGES ON *.* TO &apos;yjscloud&apos;@&apos;localhost&apos; IDENTIFIED BY PASSWORD &apos;*7C9FFD5B56F6DEE1126BC972C97B1DFEC8E4E089&apos; WITH GRANT OPTION |
+--------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec) 
</code></pre><h1 id="mysql数据库操作"><a href="#mysql数据库操作" class="headerlink" title="mysql数据库操作"></a>mysql数据库操作</h1><h2 id="指定字符集建库"><a href="#指定字符集建库" class="headerlink" title="指定字符集建库"></a>指定字符集建库</h2><p>指定字符集建库</p>
<pre><code>mysql&gt; create database yjscloud;
Query OK, 1 row affected (0.00 sec)

mysql&gt; show create database yjscloud\G
*************************** 1. row ***************************
   Database: yjscloud
Create Database: CREATE DATABASE `yjscloud` /*!40100 DEFAULT CHARACTER SET utf8 */
1 row in set (0.00 sec)
</code></pre><h2 id="建表"><a href="#建表" class="headerlink" title="建表"></a>建表</h2><p>基本语法：</p>
<pre><code>create table &lt;表名&gt;（
&lt;字段名1&gt;&lt;类型1&gt;，
...
&lt;字段名n&gt;&lt;类型n&gt;，
</code></pre><p>提示：其中create table 是关键字，不能更改，但是大小写可以变化。</p>
<p>建表语句：下面是人工写法设计的建表语句例子，表名student，</p>
<pre><code>create table student(     
id int(4) not null,           
name char(20) not null,     
age tinyint(2) not null default &apos;0&apos;,     
dept varchar(16) default null           
);
</code></pre><p>第二种mysql生成的建表语句student表例子</p>
<pre><code>CREATE TABLE `student` (       #create table表示创建表的固定关键字，student为表名
`id` int(4) NOT NULL,              #学号列，数字类型，长度为4，不为空值
`name` char(20) NOT NULL,      #名字列，定长字符类型，长度20，不为空值
`age` tinyint(2) NOT NULL DEFAULT &apos;0&apos;,    #年龄列，很小的数字类型，长度为2，不为空，默认为0值，
`dept` varchar(16) DEFAULT NULL      #系别列，变长字符类型，长度16，默认为空
) ENGINE=InnoDB DEFAULT CHARSET=utf8     #引擎和字符集，引擎默认为InnoDB,字符集继承库的utf8
</code></pre><h2 id="实战操作"><a href="#实战操作" class="headerlink" title="实战操作"></a>实战操作</h2><p>下面是实战操作</p>
<pre><code>mysql&gt; create database test_stu;
Query OK, 1 row affected (0.00 sec)

mysql&gt; show create database test_stu\G
*************************** 1. row ***************************
   Database: test_stu
Create Database: CREATE DATABASE `test_stu` /*!40100 DEFAULT CHARACTER SET utf8 */
1 row in set (0.00 sec)

mysql&gt; use test_stu;
Database changed
mysql&gt; create table student(    
    -&gt; id int(4) not null,          
    -&gt; name char(20) not null,    
    -&gt; age tinyint(2) not null default &apos;0&apos;,    
    -&gt; dept varchar(16) default null          
    -&gt; );
Query OK, 0 rows affected (0.02 sec)

mysql&gt; show create table student\G
*************************** 1. row ***************************
       Table: student
Create Table: CREATE TABLE `student` (
    `id` int(4) NOT NULL,
    `name` char(20) NOT NULL,
    `age` tinyint(2) NOT NULL DEFAULT &apos;0&apos;,
    `dept` varchar(16) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8
1 row in set (0.00 sec)

mysql&gt;
</code></pre><p>查看表结构：</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-19.png" alt="m-19">  </p>
<h2 id="mysql表的字段类型"><a href="#mysql表的字段类型" class="headerlink" title="mysql表的字段类型"></a>mysql表的字段类型</h2><p>1）数字类型 </p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-20.png" alt="m-20">   </p>
<p>2）日期和时间类型（DATE日期类型：支持的范围是1000-01-01到9999-12-31。mysql以YYYY-MM-DD格式来显示DATE值，但是允许你使用字符串或数字把值赋给DATE列）</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-21.png" alt="m-21">    </p>
<p>3）串类型</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-22.png" alt="m-22">  </p>
<p>char和varchar之间的差别<br>m</p>
<h2 id="生产环境标准的UTF8G格式表结构语句"><a href="#生产环境标准的UTF8G格式表结构语句" class="headerlink" title="生产环境标准的UTF8G格式表结构语句"></a>生产环境标准的UTF8G格式表结构语句</h2><p>某sns生产正式建表语句</p>
<pre><code>use sns;
set names gbk;
CREATE TABLE `subject_comment_manager` (
`subject_comment_manager_id` bigint(12) NOT NULL auto_increment COMMENT &apos;主键&apos;,
`subject_type` tinyint(2) NOT NULL COMMENT &apos;素材类型&apos;,
`subject_primary_key` varchar(255) NOT NULL COMMENT &apos;素材的主键&apos;,
`subject_title` varchar(255) NOT NULL COMMENT &apos;素材的名称&apos;,
`edit_user_nick` varchar(64) default NULL COMMENT &apos;修改人&apos;,
`edit_user_time` timestamp NULL default NULL COMMENT &apos;修改时间&apos;,
`edit_comment` varchar(255) default NULL COMMENT &apos;修改的理由&apos;,
`state` tinyint(1) NOT NULL default &apos;1&apos; COMMENT &apos;0代表关闭，1代表正常&apos;,
PRIMARY KEY  (`subject_comment_manager_id`),
KEY `IDX_PRIMARYKEY` (`subject_primary_key`(32)), #&lt;==括号内的32表示对前32个字符做前缀索引。
KEY `IDX_SUBJECT_TITLE` (`subject_title`(32))
KEY `index_nick_type` (`edit_user_nick`(32),`subject_type`)#&lt;==联合索引，此行为新加的，用于给大家讲解的。实际表语句内没有此行。
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; 
</code></pre><h2 id="查看建立的表结构"><a href="#查看建立的表结构" class="headerlink" title="查看建立的表结构"></a>查看建立的表结构</h2><p>查看表结构命令：</p>
<pre><code>desc表名或者show columns from 表名
</code></pre><p>例：</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-23.png" alt="m-23"> </p>
<h2 id="查看已建立表的语句"><a href="#查看已建立表的语句" class="headerlink" title="查看已建立表的语句"></a>查看已建立表的语句</h2><p>查看建表的语句（可以看见索引及创建表的相关信息）：</p>
<pre><code>mysql&gt; show create table student\G
*************************** 1. row ***************************
       Table: student
Create Table: CREATE TABLE `student` (
    `id` int(4) NOT NULL,
    `name` char(20) NOT NULL,
    `age` tinyint(2) NOT NULL DEFAULT &apos;0&apos;,
    `dept` varchar(16) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8
1 row in set (0.00 sec) 
</code></pre><h2 id="为表的字段创建索引"><a href="#为表的字段创建索引" class="headerlink" title="为表的字段创建索引"></a>为表的字段创建索引</h2><p>索引就象书的目录一样，如果在字段上建立了索引，那么以索引为查询条件时可以加快查询数据的速度.创建主键索引查询数据库，按主键查询是最快的，每个表只有一个主键列，但是可以用多个普通索引列。主键列要求列的所有内容必须唯一，而普通索引不要求内容必须唯一。主键就类似我们在学校学习时的学号一样，班级内是唯一的，整个表的每一条记录的主键值在表内都是唯一的，用来唯一标识一条记录。</p>
<h3 id="建立主键索引的方法"><a href="#建立主键索引的方法" class="headerlink" title="建立主键索引的方法"></a>建立主键索引的方法</h3><p>1）在建表时，可以增加建立主键索引的语句如下</p>
<pre><code>create table student(
id int(4) not null AUTO_INCREMENT,
name char(20) not null,
age tinyint(2)  NOT NULL default &apos;0&apos;,
dept varchar(16)  default NULL,
primary key(id),
KEY index_name(name)
); 
</code></pre><p>提示：</p>
<p>primary key(id)   #主键</p>
<p>KEY index_name(name)   #name字段普通索引</p>
<p>建表时附带建立主键语句操作演示：</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-24.png" alt="m-24"> </p>
<p>提示：PRI为主键的标示，MUL为普通索引的标示</p>
<h3 id="建立后通过alter命令增加主键索引（不这么干）"><a href="#建立后通过alter命令增加主键索引（不这么干）" class="headerlink" title="建立后通过alter命令增加主键索引（不这么干）"></a>建立后通过alter命令增加主键索引（不这么干）</h3><p>1）主键列不能重复创建，必须先删除上面配置</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-25.png" alt="m-25">  </p>
<p>利用alter命令修改id列为自增主键列</p>
<pre><code>alter table student change id id int primary key auto_increment;
</code></pre><p>提示：只有int类型且为primary key才可以使用auto_increment </p>
<h3 id="对字段的前N个字符创建普通索引"><a href="#对字段的前N个字符创建普通索引" class="headerlink" title="对字段的前N个字符创建普通索引"></a>对字段的前N个字符创建普通索引</h3><p>当遇到表中比较大的列时，列内容的前N个字符在所有内容中已经接近唯一时，这时可以对列的前N个字符建立索引，而无需对整个列建立索引，这样可以节省创建索引占用的系统空间，以及降低读取和更新维护索引消耗的系统资源。对字段的前N个字符创建普通索引的语法：</p>
<pre><code>create index index_name on test(name(8));   #条件列前N个字符创建所索引
</code></pre><p>操作实践：</p>
<p>在dept系列上，前8个字符创建索引，此列总长度为16个 </p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-26.png" alt="m-26"> </p>
<p>为指定字段的前N个字符建立索引语句</p>
<pre><code>mysql&gt; create index index_dept on student(dept(8));
Query OK, 0 rows affected (0.21 sec)
Records: 0  Duplicates: 0  Warnings: 0
</code></pre><p>这个语句等同于alter table student add index index_dept(dept(8));</p>
<pre><code>mysql&gt; alter table student drop index index_dept;
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql&gt; alter table student add index index_dept(dept(8));
Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0
</code></pre><p>查看执行结果： </p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-27.png" alt="m-27">  </p>
<h3 id="为表的多个字段创建联合索引"><a href="#为表的多个字段创建联合索引" class="headerlink" title="为表的多个字段创建联合索引"></a>为表的多个字段创建联合索引</h3><p>如果查询数据的条件是多列时，我们可以为多个查询的列创建联合索引，甚至可以为多列的前N个字符创建联合索引。</p>
<p>实践演示：</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-28.png" alt="m-28">   </p>
<p>可以为多列的前N个字符列创建联合索引，实践演示：</p>
<pre><code>mysql&gt; create index ind_name_dept1 on student(name(8),dept(10));
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0
</code></pre><h3 id="创建唯一索引（非主键）"><a href="#创建唯一索引（非主键）" class="headerlink" title="创建唯一索引（非主键）"></a>创建唯一索引（非主键）</h3><pre><code>create unique index index_age on student(age);
</code></pre><p><img src="http://p924w4b7r.bkt.clouddn.com/m-29.png" alt="m-29">  </p>
<h3 id="索引列的创建及生效条件"><a href="#索引列的创建及生效条件" class="headerlink" title="索引列的创建及生效条件"></a>索引列的创建及生效条件</h3><p>问题1、既然索引可以加快查询速度，那么就给所有的列建索引吧？</p>
<p>答：因为索引不但占用系统空间，更新数据库是还需要维护索引数据的，因此索引是一把双刃剑，并不是越多越好，</p>
<p>例如：数十到几百行的小表上无需建立索引，更新频繁，读取比较少的表 要少建立索引。</p>
<p>问题2、需要在哪些列上创建索引呢？</p>
<p>select user,host from mysql where host=…，索引一定要创建在where后的条件列上，<br>而不是select后的选择数据的列。另外，我们要尽量选择在唯一值多的大表上的列建立索引。</p>
<h3 id="创建索引命令集合小结"><a href="#创建索引命令集合小结" class="headerlink" title="创建索引命令集合小结"></a>创建索引命令集合小结</h3><p>1）创建索引相关命令集合</p>
<p>创建主键索引：</p>
<pre><code>alter table student chage id id int primary key auto_increment;
</code></pre><p>删除主键索引（主键列不能自增）：</p>
<pre><code>alter table student drop primary key;
</code></pre><p>添加普通索引：</p>
<pre><code>alter table student add index index_dept(dept);
</code></pre><p>根据的前n个字符创建索引：</p>
<pre><code>create index index_dept on student(dept(8));
</code></pre><p>根据多个列创建联合索引：</p>
<pre><code>create index index_name_dept on student(name,dept);
</code></pre><p>创建唯一索引：</p>
<pre><code>create unique index uni_ind_name on student(name);
</code></pre><p>删除普通索引与唯一索引：</p>
<pre><code>alter table student drop index index_dept;
drop index index_dept on student;
</code></pre><p>基本索引：</p>
<p>1、要在表的列上创建索引</p>
<p>2、索引会加快查询速度，但是会影响更新的速度，因此要维护索引。</p>
<p>3、索引不是越多越好，要在频繁查询的where后的条件列上创建索引。</p>
<p>4、小表或唯一值极少的列上不建索引，要在大表以及不同内容多的列上创建索引。</p>
<h3 id="往表中插入数据"><a href="#往表中插入数据" class="headerlink" title="往表中插入数据"></a>往表中插入数据</h3><p>1）命令语法：</p>
<pre><code>insert into &lt;表名&gt;[(&lt;字段名&gt;[,..&lt;字段名n&gt;])] values (值 1 )[,(值n)]
</code></pre><p>2）新建一个简单的测试表test</p>
<p>3）往表中插入数据的不同的语法例子：</p>
<p>1、按规矩指定所有列名，并且每列都插入值</p>
<pre><code>insert into test1(id,name) values(1,&apos;xwq&apos;);
</code></pre><p>2、由于id列为自增的，所以，可以只在name列插入值</p>
<pre><code>insert int test1(name) values(&apos;xdf&apos;)
</code></pre><p>3、如果不指定列，就要按规矩为每列都插入恰当的值。</p>
<pre><code>insert into test1 values(3,&apos;inca&apos;,21);
</code></pre><p>4、批量插入数据方法，提升效率</p>
<pre><code>insert into test1 values(3,&apos;lufei&apos;,20),(4,&apos;suolong&apos;,23);
</code></pre><p>4）插入数据实践演示：</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-30.png" alt="m-30">  </p>
<p>插入数据：</p>
<pre><code>mysql&gt; insert into test1(id,name) values(1,&apos;xwq&apos;);
Query OK, 1 row affected (0.01 sec)

mysql&gt; insert into test1 values(2,&quot;lufei&quot;,12);
Query OK, 1 row affected (0.00 sec)

mysql&gt; insert into test1 values(3,&apos;inca&apos;,21);
Query OK, 1 row affected (0.01 sec)
</code></pre><p><img src="http://p924w4b7r.bkt.clouddn.com/m-31.png" alt="m-31">  </p>
<p>5）测试完毕，退出数据库然后备份上述数据库，留着备用：</p>
<pre><code>mysql&gt; exit
Bye
[root@mysql-1 ~]# mysqldump -uroot -pyjscloud000 -B test_yjs &gt;/opt/test_yjs_bak.sql
[root@mysql-1 ~]# ls -l /opt/test_yjs_bak.sql
-rw-r--r-- 1 root root 2014 May 11 21:39 /opt/test_yjs_bak.sql
</code></pre><p>6）备份后检查备份的sql数据内容：过滤无用信息</p>
<pre><code>grep -E -v &quot;#|\/|^$|--&quot; /opt/test_yjs_bak.sql
</code></pre><p><img src="http://p924w4b7r.bkt.clouddn.com/m-32.png" alt="m-32"> </p>
<h1 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h1><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><pre><code>select &lt;字段1,字段2，…&gt; from &lt;表名&gt; where &lt;表达式&gt;
</code></pre><p>其中，select,from,where是不能随便改的，是关键字，支持大小写</p>
<h2 id="查看表test1中所有数据"><a href="#查看表test1中所有数据" class="headerlink" title="查看表test1中所有数据"></a>查看表test1中所有数据</h2><p>1）进入指定库后查询</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-33.png" alt="m-33"> </p>
<p>查看mysql库的用户</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-34.png" alt="m-34"> </p>
<h2 id="根据指定条件查询表的部分数据"><a href="#根据指定条件查询表的部分数据" class="headerlink" title="根据指定条件查询表的部分数据"></a>根据指定条件查询表的部分数据</h2><p>1）例：查看表test1中第一行数据</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-35.png" alt="m-35"> </p>
<p>2）指定固定条件查询数据</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-36.png" alt="m-36"><br><img src="http://p924w4b7r.bkt.clouddn.com/m-37.png" alt="m-37">  </p>
<p>注意：字符类型的查询条件的值要带引号 </p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-38-1.png" alt="m-38"></p>
<p>3）指定固定条件范围查询数据</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-38.png" alt="m-39"></p>
<p>4）其他查询功能</p>
<p>排序功能：</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-39.png" alt="m-40"> </p>
<h2 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h2><h3 id="建立几个关联表"><a href="#建立几个关联表" class="headerlink" title="建立几个关联表"></a>建立几个关联表</h3><p>要实现多表连表查询，就需要关联表及数据，表名及字段内容如下：</p>
<pre><code>学生表：Student(Sno,Sname,Ssex,Sage,Sdept)
-------(学号-主键，姓名，性别，年龄，所在系）

课程表：Course(Cno,Cname,Cpno,Ccredit)
-------(课程号-主键，课程名，选课，学分)


选课表：SC(Sno,Cno,Grade)
-------(学号-主键，课程号-主键，成绩)
</code></pre><h3 id="创建关联表语句"><a href="#创建关联表语句" class="headerlink" title="创建关联表语句"></a>创建关联表语句</h3><p>1）创建学生表</p>
<pre><code>drop table student;
create table student(
Sno int(10) NOT NULL COMMENT &apos;学号&apos;,
Sname varchar(16) NOT NULL COMMENT &apos;姓名&apos;,
Ssex char(2) NOT NULL COMMENT &apos;性别&apos;,
Sage tinyint(2)  NOT NULL default &apos;0&apos; COMMENT &apos;学生年龄&apos;,
Sdept varchar(16)  default NULL  COMMENT &apos;学生所在系别&apos;,
PRIMARY KEY  (Sno) ,
key index_Sname (Sname)
);
</code></pre><p>2）创建课程表</p>
<pre><code>create table course(
Cno int(10) NOT NULL COMMENT &apos;课程号&apos;,
Cname varchar(64) NOT NULL COMMENT &apos;课程名&apos;,
Ccredit tinyint(2) NOT NULL COMMENT &apos;学分&apos;,
PRIMARY KEY  (Cno)
);
</code></pre><p>3）创建选课表</p>
<pre><code>CREATE TABLE `SC` (
    SCid int(12) NOT NULL auto_increment COMMENT &apos;主键&apos;,
    `Cno` int(10) NOT NULL COMMENT &apos;课程号&apos;,
    `Sno` int(10) NOT NULL COMMENT &apos;学号&apos;,
    `Grade` tinyint(2) NOT NULL COMMENT &apos;学生成绩&apos;,
    PRIMARY KEY  (`SCid`)
);
</code></pre><h3 id="往关联表中填充数据"><a href="#往关联表中填充数据" class="headerlink" title="往关联表中填充数据"></a>往关联表中填充数据</h3><p>1）学生表插入数据：</p>
<pre><code>INSERT INTO student values(0001,&apos;路飞&apos;,&apos;男&apos;,17,&apos;计算机网络&apos;);
INSERT INTO student values(0002,&apos;索隆&apos;,&apos;男&apos;,19,&apos;网络安全&apos;);
INSERT INTO student values(0003,&apos;乌索普&apos;,&apos;男&apos;,18,&apos;网络媒体&apos;);
INSERT INTO student values(0004,&apos;娜美&apos;,&apos;女&apos;,17,&apos;旅游管理&apos;);
INSERT INTO student values(0005,&apos;香吉士&apos;,&apos;男&apos;,22,&apos;新东方厨校&apos;);
INSERT INTO student values(0006,&apos;妮可罗宾&apos;,&apos;女&apos;,28,&apos;古代历史&apos;);
</code></pre><p>2）课程表插入数据</p>
<pre><code>INSERT INTO course values(1001,&apos;Linux中高级运维&apos;,3);
INSERT INTO course values(1002,&apos;Linux高级架构师&apos;,5);
INSERT INTO course values(1003,&apos;MySQL高级Dba&apos;,4);
INSERT INTO course values(1004,&apos;Python运维开发&apos;,4);
INSERT INTO course values(1005,&apos;Java web开发&apos;,3);
</code></pre><p>3）选课表插入数据</p>
<pre><code>INSERT INTO SC(Sno,Cno,Grade)  values(0001,1001,4);
INSERT INTO SC(Sno,Cno,Grade) values(0001,1002,3);
INSERT INTO SC(Sno,Cno,Grade)  values(0001,1003,1);
INSERT INTO SC(Sno,Cno,Grade)  values(0001,1004,6);
INSERT INTO SC(Sno,Cno,Grade)  values(0002,1001,3);
INSERT INTO SC(Sno,Cno,Grade)  values(0002,1002,2);
INSERT INTO SC(Sno,Cno,Grade)  values(0002,1003,2);
INSERT INTO SC(Sno,Cno,Grade)  values(0002,1004,8);
INSERT INTO SC(Sno,Cno,Grade)  values(0003,1001,4);
INSERT INTO SC(Sno,Cno,Grade)  values(0003,1002,4);
INSERT INTO SC(Sno,Cno,Grade)  values(0003,1003,2);
INSERT INTO SC(Sno,Cno,Grade)  values(0003,1004,8);
INSERT INTO SC(Sno,Cno,Grade)  values(0004,1001,1);
INSERT INTO SC(Sno,Cno,Grade)  values(0004,1002,1);
INSERT INTO SC(Sno,Cno,Grade)  values(0004,1003,2);
INSERT INTO SC(Sno,Cno,Grade)  values(0004,1004,3);
INSERT INTO SC(Sno,Cno,Grade)  values(0005,1001,5);
INSERT INTO SC(Sno,Cno,Grade)  values(0005,1002,3);
INSERT INTO SC(Sno,Cno,Grade)  values(0005,1003,2);
INSERT INTO SC(Sno,Cno,Grade)  values(0005,1004,9);
</code></pre><p>查询SC表结果：</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-40.png" alt="m-40"> </p>
<p>连表查询：</p>
<pre><code>select student.Sno,student.Sname,course.Cname,SC.Grade from student,course,SC where student.Sno=SC.Sno and course.Cno=SC.Cno;
</code></pre><p><img src="http://p924w4b7r.bkt.clouddn.com/m-41.png" alt="m-41">  </p>
<h3 id="查询语句执行计划"><a href="#查询语句执行计划" class="headerlink" title="查询语句执行计划"></a>查询语句执行计划</h3><p>使用explain查询select查询语句执行计划，即使用索引情况</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-42.png" alt="m-42"><br><img src="http://p924w4b7r.bkt.clouddn.com/m-43.png" alt="m-43"><br><img src="http://p924w4b7r.bkt.clouddn.com/m-44.png" alt="m-44">  </p>
<h1 id="修改表中数据"><a href="#修改表中数据" class="headerlink" title="修改表中数据"></a>修改表中数据</h1><h2 id="修改表中指定条件固定列的数据"><a href="#修改表中指定条件固定列的数据" class="headerlink" title="修改表中指定条件固定列的数据"></a>修改表中指定条件固定列的数据</h2><p>1）命令语法：</p>
<pre><code>update 表名 set 字段=新值，... where 条件
</code></pre><p>2）修改指定的行字段内容</p>
<p> 1、查看要修改的表</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-45.png" alt="m-45">  </p>
<p>2、修改id为3的行的名字为xiangjishi</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-46.png" alt="m-46"> </p>
<h2 id="修改表中所有行的数据"><a href="#修改表中所有行的数据" class="headerlink" title="修改表中所有行的数据"></a>修改表中所有行的数据</h2><p>为了演示效果我们往多插入几行数据</p>
<pre><code>INSERT INTO test1 values(1,&apos;wusuopu&apos;,19);
INSERT INTO test1 values(2,&apos;namei&apos;,18);
INSERT INTO test1 values(5,&apos;lubing&apos;,28); 
</code></pre><p><img src="http://p924w4b7r.bkt.clouddn.com/m-47.png" alt="m-47">  </p>
<p>1、不带条件更改所有表的记录</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-48.png" alt="m-48"><br>update一个记录，结果忘了加where，于是悲剧发生了！ </p>
<h2 id="防止误操作mysql数据库的例子"><a href="#防止误操作mysql数据库的例子" class="headerlink" title="防止误操作mysql数据库的例子"></a>防止误操作mysql数据库的例子</h2><p>1、mysql帮助说明</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-49.png" alt="m-49"> </p>
<p>2、指定-U登录测试</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-50.png" alt="m-50"> </p>
<p>提示：不加条件无法删除，目的达到。</p>
<p>3、做成别名防止DBA误操作</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-51.png" alt="m-51"> </p>
<p>结论：在mysql命令加上选项-U后，当发出没有WHERE或LIMIT关键字的UPDATE或DELETE时，mysql程序拒绝执行</p>
<h1 id="删除表中数据"><a href="#删除表中数据" class="headerlink" title="删除表中数据"></a>删除表中数据</h1><h2 id="实践删除表中的数据"><a href="#实践删除表中的数据" class="headerlink" title="实践删除表中的数据"></a>实践删除表中的数据</h2><p>1）语法命令：</p>
<pre><code>delete from 表名 where 表达式
</code></pre><p>1、实践，例如：删除表test1 中name等于lufei的记录</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-52.png" alt="m-52"><br><img src="http://p924w4b7r.bkt.clouddn.com/m-53.png" alt="m-53"> </p>
<p>命令：</p>
<pre><code>truncate table 表名
truncate table test1;    #清空表中所有内容
</code></pre><p><img src="http://p924w4b7r.bkt.clouddn.com/m-54.png" alt="m-54"> </p>
<p>truncate table test1;和delete from test1;区别</p>
<p>1、truncate table test1;更快。清空物理文件</p>
<p>2、delete from test1;逻辑清除，按行删。</p>
<h1 id="增删改表的字段"><a href="#增删改表的字段" class="headerlink" title="增删改表的字段"></a>增删改表的字段</h1><h2 id="命令语法及默认添加演示"><a href="#命令语法及默认添加演示" class="headerlink" title="命令语法及默认添加演示"></a>命令语法及默认添加演示</h2><p>1）命令语法：</p>
<pre><code>alter table 表名 add 字段 类型 其他；
</code></pre><p>2）测试表数据</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-55.png" alt="m-55"> </p>
<p>3）实践案例<br>例：在表test1中添加字段sex，age，qq，类型分别为char(4),int(4),varchar(15)</p>
<p>4）执行的命令演示<br>1、添加性别列，默认语句</p>
<pre><code>alter table test1 add sex char(4); 
</code></pre><p><img src="http://p924w4b7r.bkt.clouddn.com/m-56.png" alt="m-56">  </p>
<p>提示：默认增加列增加到所有字段的结尾</p>
<h2 id="指定添加列在表里的位置"><a href="#指定添加列在表里的位置" class="headerlink" title="指定添加列在表里的位置"></a>指定添加列在表里的位置</h2><p>1、定添加年龄列到name列后面的位置</p>
<pre><code>alter table test1 add age int(4) after name;     #在name列后增加age列
</code></pre><p>2、在第一列添加qq字段</p>
<pre><code>alter table test1 add qq varchar(15) first; 
</code></pre><p><img src="http://p924w4b7r.bkt.clouddn.com/m-57.png" alt="m-57">  </p>
<h3 id="生产案例"><a href="#生产案例" class="headerlink" title="生产案例"></a>生产案例</h3><p>生产环境多个复杂添加修改多字段信息的案例</p>
<p>1）增加1个字段：</p>
<pre><code>alter table &apos;etiantian&apos; add &apos;firstphoto_url&apos; varchar(255) default null comment &apos;第一张图片url&apos;;
</code></pre><p>2）增2个字段：</p>
<pre><code>alter table &apos;basic&apos; add &apos;adtml_top&apos; varchar(1024) default null comment &apos;顶部广告html&apos;, and  &apos;adtml_right&apos; varchar(1024) default null comment &apos;右侧广告html&apos;;
</code></pre><p>3）修改字段类型：</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-58.png" alt="m-58"> </p>
<p>4）修改字段名称 </p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-59.png" alt="m-59"> </p>
<h1 id="mysql的重命名"><a href="#mysql的重命名" class="headerlink" title="mysql的重命名"></a>mysql的重命名</h1><h2 id="命令语法："><a href="#命令语法：" class="headerlink" title="命令语法："></a>命令语法：</h2><pre><code>rename table 原表名 to 新表名；
</code></pre><p>例如： 在表test1名字更改为 test1_change</p>
<p>执行结果：</p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-60.png" alt="m-60"> </p>
<h2 id="alter法"><a href="#alter法" class="headerlink" title="alter法"></a>alter法</h2><p><img src="http://p924w4b7r.bkt.clouddn.com/m-61.png" alt="m-61">  </p>
<h1 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h1><p>命令语法： </p>
<pre><code>drop table &lt;表名&gt;
</code></pre><p>例如：删除表名为test的表</p>
<p>执行结果： </p>
<p><img src="http://p924w4b7r.bkt.clouddn.com/m-62.png" alt="m-62">   </p>

      
    </div>

    <div>
      
        
<div style="text-align:center;color: #ccc;font-size:14px;">
------ 本文结束 ------</div>
<br/>
<div style="border: 1px solid black">
<div style="margin-left:10px">
<span style="font-weight:blod">版权声明</span>
<img src="http://oovxjr0mr.bkt.clouddn.com/create.png" >
<br/>
<p style="font-size: 10px;line-height: 30px"><a href="http://yjscloud.com" style="color:#258FC6">戏子登台</a> by <a href="http://yjscloud.com" style="color:#258FC6">Pan</a> is licensed under a <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" style="color:#258FC6">Creative Commons BY-NC-ND 4.0 International License</a>.<br/>
由<a href="http://yjscloud.com" style="color:#258FC6">Pan</a>创作并维护的<a href="http://yjscloud.com" style="color:#258FC6">戏子登台</a>博客采用<a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" style="color:#258FC6">创作共用保留署名-非商业-禁止演绎4.0国际许可证</a>。<br/>
本文首发于<a href="http://yjscloud.com" style="color:#258FC6">戏子登台</a> 博客（ <a href="http://yjscloud.com" style="color:#258FC6">http://yjscloud.com</a> ），版权所有，侵权必究。</p>
</div>
</div>


      
    </div>


    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>
    
    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/MySQL系列/" rel="tag"><i class="fa fa-tag"></i> MySQL系列</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/25/MySQL系列（三）：MySQL乱码及字符集实战/" rel="next" title="MySQL系列（三）：MySQL乱码及字符集实战">
                <i class="fa fa-chevron-left"></i> MySQL系列（三）：MySQL乱码及字符集实战
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/04/22/MySQL系列（一）：MySQL源码安装/" rel="prev" title="MySQL系列（一）：MySQL源码安装">
                MySQL系列（一）：MySQL源码安装 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_douban"></a>
  <a class="jiathis_button_renren"></a>
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_kaixin001"></a>
  <a class="jiathis_button_copy"></a>
  <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:false
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://oovxjr0mr.bkt.clouddn.com/WechatIMG8.jpeg"
               alt="Pan" />
          <p class="site-author-name" itemprop="name">Pan</p>
           
              <p class="site-description motion-element" itemprop="description">独孤九剑，剑指运维！</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">57</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/yjscloud" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/5655429866" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:yjscloud@gmail.com" target="_blank" title="Email">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Email
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/zhao-zi-long-8-52" target="_blank" title="zhihu">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  zhihu
                </a>
              </span>
            
          
        </div>

	<div class="swf_clock" align="center">
	  <embed name="honehoneclock" width="160" height="70" align="middle" pluginspage="http://www.macromedia.com/go/getflashplayer" src="http://chabudai.sakura.ne.jp/blogparts/honehoneclock/honehone_clock01.swf" type="application/x-shockwave-flash" wmode="transparent" quality="high" bgcolor="#000000" allowscriptaccess="always">
	</div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.cnblogs.com/yjscloud/" title="博客园" target="_blank">博客园</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://yjscloud.com/about/" title="我的信息" target="_blank">我的信息</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://amon1997.com/" title="Amon的博客" target="_blank">Amon的博客</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#启动与关闭MySQL"><span class="nav-number">1.</span> <span class="nav-text">启动与关闭MySQL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#单实例MySQL启动与关闭方法"><span class="nav-number">1.1.</span> <span class="nav-text">单实例MySQL启动与关闭方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#初始化MySQL时输出提示的启动方法"><span class="nav-number">1.2.</span> <span class="nav-text">初始化MySQL时输出提示的启动方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常规方法关闭数据库"><span class="nav-number">1.3.</span> <span class="nav-text">常规方法关闭数据库</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#登陆MySQL方法"><span class="nav-number">2.</span> <span class="nav-text">登陆MySQL方法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#单实例MySQL登陆的方法"><span class="nav-number">2.1.</span> <span class="nav-text">单实例MySQL登陆的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#善用MySQL的帮助命令help"><span class="nav-number">2.2.</span> <span class="nav-text">善用MySQL的帮助命令help</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#退出MySQL数据库方法"><span class="nav-number">3.</span> <span class="nav-text">退出MySQL数据库方法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#设置及修改mysql-root用户密码"><span class="nav-number">4.</span> <span class="nav-text">设置及修改mysql root用户密码</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL数据库用户安全策略介绍"><span class="nav-number">4.1.</span> <span class="nav-text">MySQL数据库用户安全策略介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#为管理员root用户设置密码方法"><span class="nav-number">4.2.</span> <span class="nav-text">为管理员root用户设置密码方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改管理员root密码"><span class="nav-number">4.3.</span> <span class="nav-text">修改管理员root密码</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#找回丢失的mysql-root用户密码"><span class="nav-number">5.</span> <span class="nav-text">找回丢失的mysql root用户密码</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#启动修改丢失的MySQL实例root密码方法"><span class="nav-number">5.1.</span> <span class="nav-text">启动修改丢失的MySQL实例root密码方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL结构化查询语言"><span class="nav-number">6.</span> <span class="nav-text">SQL结构化查询语言</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#什么是SQL"><span class="nav-number">6.1.</span> <span class="nav-text">什么是SQL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL结构化查询语言包含6个部分"><span class="nav-number">6.2.</span> <span class="nav-text">SQL结构化查询语言包含6个部分</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL数据常见管理应用"><span class="nav-number">7.</span> <span class="nav-text">MySQL数据常见管理应用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#创建数据库"><span class="nav-number">7.1.</span> <span class="nav-text">创建数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#显示数据库"><span class="nav-number">7.2.</span> <span class="nav-text">显示数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#删除数据库"><span class="nav-number">7.3.</span> <span class="nav-text">删除数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#连接数据库"><span class="nav-number">7.4.</span> <span class="nav-text">连接数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看当前数据库包含的表信息"><span class="nav-number">7.5.</span> <span class="nav-text">查看当前数据库包含的表信息</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#删除MySQL系统多余账号"><span class="nav-number">8.</span> <span class="nav-text">删除MySQL系统多余账号</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#创建MySQL用户及赋予用户权限"><span class="nav-number">9.</span> <span class="nav-text">创建MySQL用户及赋予用户权限</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#通过help查看grant命令帮助"><span class="nav-number">9.1.</span> <span class="nav-text">通过help查看grant命令帮助</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#通过grant命令创建用户并授权"><span class="nav-number">9.2.</span> <span class="nav-text">通过grant命令创建用户并授权</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#create和grant配合法"><span class="nav-number">9.3.</span> <span class="nav-text">create和grant配合法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#授权局域网内主机远程连接数据库"><span class="nav-number">9.4.</span> <span class="nav-text">授权局域网内主机远程连接数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL用户可以授权的权限有哪些"><span class="nav-number">9.5.</span> <span class="nav-text">MySQL用户可以授权的权限有哪些</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#企业生产环境如何授权用户权限"><span class="nav-number">9.6.</span> <span class="nav-text">企业生产环境如何授权用户权限</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#查看mysql数据库的用户及授权"><span class="nav-number">10.</span> <span class="nav-text">查看mysql数据库的用户及授权</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mysql数据库操作"><span class="nav-number">11.</span> <span class="nav-text">mysql数据库操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#指定字符集建库"><span class="nav-number">11.1.</span> <span class="nav-text">指定字符集建库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#建表"><span class="nav-number">11.2.</span> <span class="nav-text">建表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实战操作"><span class="nav-number">11.3.</span> <span class="nav-text">实战操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mysql表的字段类型"><span class="nav-number">11.4.</span> <span class="nav-text">mysql表的字段类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#生产环境标准的UTF8G格式表结构语句"><span class="nav-number">11.5.</span> <span class="nav-text">生产环境标准的UTF8G格式表结构语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看建立的表结构"><span class="nav-number">11.6.</span> <span class="nav-text">查看建立的表结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看已建立表的语句"><span class="nav-number">11.7.</span> <span class="nav-text">查看已建立表的语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#为表的字段创建索引"><span class="nav-number">11.8.</span> <span class="nav-text">为表的字段创建索引</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#建立主键索引的方法"><span class="nav-number">11.8.1.</span> <span class="nav-text">建立主键索引的方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#建立后通过alter命令增加主键索引（不这么干）"><span class="nav-number">11.8.2.</span> <span class="nav-text">建立后通过alter命令增加主键索引（不这么干）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对字段的前N个字符创建普通索引"><span class="nav-number">11.8.3.</span> <span class="nav-text">对字段的前N个字符创建普通索引</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#为表的多个字段创建联合索引"><span class="nav-number">11.8.4.</span> <span class="nav-text">为表的多个字段创建联合索引</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建唯一索引（非主键）"><span class="nav-number">11.8.5.</span> <span class="nav-text">创建唯一索引（非主键）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#索引列的创建及生效条件"><span class="nav-number">11.8.6.</span> <span class="nav-text">索引列的创建及生效条件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建索引命令集合小结"><span class="nav-number">11.8.7.</span> <span class="nav-text">创建索引命令集合小结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#往表中插入数据"><span class="nav-number">11.8.8.</span> <span class="nav-text">往表中插入数据</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#查询数据"><span class="nav-number">12.</span> <span class="nav-text">查询数据</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#语法"><span class="nav-number">12.1.</span> <span class="nav-text">语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看表test1中所有数据"><span class="nav-number">12.2.</span> <span class="nav-text">查看表test1中所有数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#根据指定条件查询表的部分数据"><span class="nav-number">12.3.</span> <span class="nav-text">根据指定条件查询表的部分数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多表查询"><span class="nav-number">12.4.</span> <span class="nav-text">多表查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#建立几个关联表"><span class="nav-number">12.4.1.</span> <span class="nav-text">建立几个关联表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建关联表语句"><span class="nav-number">12.4.2.</span> <span class="nav-text">创建关联表语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#往关联表中填充数据"><span class="nav-number">12.4.3.</span> <span class="nav-text">往关联表中填充数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查询语句执行计划"><span class="nav-number">12.4.4.</span> <span class="nav-text">查询语句执行计划</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#修改表中数据"><span class="nav-number">13.</span> <span class="nav-text">修改表中数据</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#修改表中指定条件固定列的数据"><span class="nav-number">13.1.</span> <span class="nav-text">修改表中指定条件固定列的数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改表中所有行的数据"><span class="nav-number">13.2.</span> <span class="nav-text">修改表中所有行的数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#防止误操作mysql数据库的例子"><span class="nav-number">13.3.</span> <span class="nav-text">防止误操作mysql数据库的例子</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#删除表中数据"><span class="nav-number">14.</span> <span class="nav-text">删除表中数据</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#实践删除表中的数据"><span class="nav-number">14.1.</span> <span class="nav-text">实践删除表中的数据</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#增删改表的字段"><span class="nav-number">15.</span> <span class="nav-text">增删改表的字段</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#命令语法及默认添加演示"><span class="nav-number">15.1.</span> <span class="nav-text">命令语法及默认添加演示</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指定添加列在表里的位置"><span class="nav-number">15.2.</span> <span class="nav-text">指定添加列在表里的位置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#生产案例"><span class="nav-number">15.2.1.</span> <span class="nav-text">生产案例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mysql的重命名"><span class="nav-number">16.</span> <span class="nav-text">mysql的重命名</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#命令语法："><span class="nav-number">16.1.</span> <span class="nav-text">命令语法：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#alter法"><span class="nav-number">16.2.</span> <span class="nav-text">alter法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#删除表"><span class="nav-number">17.</span> <span class="nav-text">删除表</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Pan

&nbsp;&nbsp;|&nbsp;&nbsp;
<script type="text/javascript">
  var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
  document.write(unescape("%3Cspan id='cnzz_stat_icon_1261789938'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1261789938' type='text/javascript'%3E%3C/script%3E"));
</script>

  &nbsp;&nbsp;|&nbsp;&nbsp;<span><a href="/sitemap.xml">Google网站地图</a></span>

  </span>
</div>


&nbsp;&nbsp;|&nbsp;&nbsp;本站总点击 <span id="busuanzi_value_site_pv"></span> 次
&nbsp;&nbsp;|&nbsp;&nbsp;您是第 <span id="busuanzi_value_site_uv"></span> 位访客

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>




        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  
    
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "b3a09e175e704bb0a23058b39947aa9f",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
  










  





  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  

  </script>
<script type="text/JavaScript">
function showSubtitle()
{
  var siteNav=document.getElementById("site-nav");
  if(siteNav.style.display=="block")
  {
   var subTitle=document.getElementById("site-subtitle");
   subTitle.style.display="none";
  }else
  {
   var subTitle=document.getElementById("site-subtitle");
   subTitle.style.display="block";
  }

}
</script>

  <script type="text/javascript"> /* 鼠标特效 */ var a_idx = 0; jQuery(document).ready(function($) { $("body").click(function(e) { var a = new Array("富强", "民主", "文明", "和谐", "自由", "平等", "公正" ,"法治", "爱国", "敬业", "诚信", "友善"); var $i = $("<span/>").text(a[a_idx]); a_idx = (a_idx + 1) % a.length; var x = e.pageX, y = e.pageY; $i.css({ "z-index": 999999999999999999999999999999999999999999999999999999999999999999999, "top": y - 20, "left": x, "position": "absolute", "font-weight": "bold", "color": "#ff6651" }); $("body").append($i); $i.animate({ "top": y - 180, "opacity": 0 }, 1500, function() { $i.remove(); }); }); }); </script>
</body>
</html>
